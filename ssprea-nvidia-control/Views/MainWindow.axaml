<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:ssprea_nvidia_control.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:models="clr-namespace:ssprea_nvidia_control.Models"
        mc:Ignorable="d" d:DesignWidth="1514" d:DesignHeight="825"
        Width="1514" Height="825"
        xmlns:lvc="using:LiveChartsCore.SkiaSharpView.Avalonia"
        xmlns:liveChartsCore="clr-namespace:LiveChartsCore;assembly=LiveChartsCore"
        xmlns:skiaSharpView="clr-namespace:LiveChartsCore.SkiaSharpView;assembly=LiveChartsCore.SkiaSharpView"
        xmlns:lang="clr-namespace:ssprea_nvidia_control.Lang"
        x:Class="ssprea_nvidia_control.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="ssprea NVidia Control"
        Name="MainOcWindow"
        Closed="Window_OnClosed"
        TransparencyLevelHint="AcrylicBlur, Blur, Transparent"
        Background="Transparent"
        >
        
    <Design.DataContext>
        <!-- This only sets the DataContext for the previewer in an IDE,    
             to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
        <vm:MainWindowViewModel/>
    </Design.DataContext>


    <Grid x:Name="MainGrid"
              ColumnDefinitions="*,20*,2*"
              RowDefinitions="10*,8*,*"
              x:DataType="vm:MainWindowViewModel"
              Background="{DynamicResource BackgroundBrush}"
              
              
              
        >
            
            <Grid.Resources>
        <ResourceDictionary>
            <ResourceDictionary.ThemeDictionaries>
                <ResourceDictionary x:Key='Light'>
                    <SolidColorBrush x:Key='BackgroundBrush'>GhostWhite</SolidColorBrush>
                    <SolidColorBrush x:Key='BorderBrush'>DimGray</SolidColorBrush>
                    <SolidColorBrush x:Key='ForegroundBrush'>Black</SolidColorBrush>
                    <SolidColorBrush x:Key='SectionBackgroundBrush'>LightGray</SolidColorBrush>
                    <SolidColorBrush x:Key='SelectionColor'>#C191FF</SolidColorBrush>
                    <SolidColorBrush x:Key='TextColor'>Black</SolidColorBrush>
                </ResourceDictionary>
                <ResourceDictionary x:Key='Dark'>
                    <SolidColorBrush x:Key='BackgroundBrush'>#AA262626</SolidColorBrush>
                    <SolidColorBrush x:Key='BorderBrush'>#1e1f22</SolidColorBrush>
                    <SolidColorBrush x:Key='ForegroundBrush'>#8b8d92</SolidColorBrush>
                    <SolidColorBrush x:Key='SmallSectionBackgroundBrushLight'>#DD606060</SolidColorBrush>
                    <SolidColorBrush x:Key='SmallSectionBackgroundBrushDark'>#DD404848</SolidColorBrush>
                    <SolidColorBrush x:Key='SectionBackgroundBrushLight'>#AA606060</SolidColorBrush>
                    <SolidColorBrush x:Key='SectionBackgroundBrushDark'>#AA404848</SolidColorBrush>
                    <SolidColorBrush x:Key='InfoBarsBorderBrush'>Transparent</SolidColorBrush>
                    <SolidColorBrush x:Key='HighlightColor'>DodgerBlue</SolidColorBrush>
                    <!-- <LinearGradientBrush x:Key='ProgressBarGradient' StartPoint="0%,0%" EndPoint="100%,0%"> -->
                    <!--     <GradientStop Color="#904ECDC4" Offset="0.0"/> -->
                    <!--     <GradientStop Color="#90FF6B6B" Offset="1.0"/> -->
                    <!-- </LinearGradientBrush> -->
                    <Color x:Key='SectionBackgroundColorLight'>#AA606060</Color>
                    <Color x:Key='SectionBackgroundColorDark'>#AA404848</Color>
                    <SolidColorBrush x:Key='SelectionColor'>#C191FF</SolidColorBrush>
                    <SolidColorBrush x:Key='TextColor'>#BDBDBD</SolidColorBrush>
                </ResourceDictionary>
            </ResourceDictionary.ThemeDictionaries>
        </ResourceDictionary>
    </Grid.Resources>
    
        <Grid.Styles>
            
            
            <!-- <Style Selector="Grid#MainGrid"> -->
            <!--     <Setter Property="Background" Value="{DynamicResource BackgroundBrush}" /> -->
            <!--     <Setter Property="TextElement.Foreground" Value="{DynamicResource ForegroundBrush}" /> -->
            <!-- </Style> -->
            
            <!-- <Style Selector="Slider"> -->
            <!--     <Setter Property="Foreground" Value="{DynamicResource HighlightColor}" /> -->
            <!-- </Style> -->
            
            <Style Selector="ProgressBar">
                <Setter Property="CornerRadius" Value="12" />
                <Setter Property="Foreground" Value="{DynamicResource HighlightColor}" />
            </Style>
            
            <Style Selector="Label">
                <Setter Property="FontFamily" Value="{StaticResource NotoSansFont}"/>
            </Style>
            
            <Style Selector="ToolTip">
                <Setter Property="FontFamily" Value="{StaticResource NotoSansFont}"/>
            </Style>
            
            
            
            <Style Selector="Button">
                <Setter Property="CornerRadius" Value="12" />
                <Setter Property="FontFamily" Value="{StaticResource NotoSansFont}"/>
            </Style>
        
        
        </Grid.Styles>
        
            <!-- <Border Grid.Row="1" Grid.Column="2" Grid.RowSpan="2"  -->
            <!--              -->
            <!--         BorderThickness="5" -->
            <!--          -->
            <!-- > -->
            <!--          -->
            <!--      -->
            <!--          -->
            <!-- </Border> -->
            
            <!-- <ComboBox Grid.Row="0" Grid.Column="0" SelectedItem="{Binding SelectedLocalizerLang}" ItemsSource="{Binding LocalizerLangs}"> -->
            <!-- </ComboBox> -->
            
        
            
            <!--MAIN-->
            <Border  Grid.Column="1" Grid.Row="0" BorderThickness="2">
                
                <Grid ColumnDefinitions="*,13*,*,4*,*" 
                  RowDefinitions="*,*,*,*,*,*,*"
                   
                  
                  >
                
                    <Border Grid.Column="1" Grid.RowSpan="5"
                            Grid.Row="1" BorderBrush="Gray" BorderThickness="2" Padding="8" CornerRadius="10" Background="{DynamicResource SectionBackgroundBrushDark}"
                            >
                        
                        <Grid RowDefinitions="*,*,*,*,*,*"
                              ColumnDefinitions="2*,11*,*,*,*"
                              
                              >
                    
                            <!--GPU CLOCK-->
                            <Label Grid.Column="0" Grid.Row="0" VerticalAlignment="Center" FontSize="12" HorizontalAlignment="Right"> CORE CLCK </Label>
                                    
                            <Border Grid.Column="1" Grid.Row="0" BorderBrush="{DynamicResource InfoBarsBorderBrush}" BorderThickness="2" Padding="3">
                                <ProgressBar Minimum="0" Maximum="3000" Value="{Binding SelectedGpu.GpuClockCurrent, FallbackValue=0}"  VerticalAlignment="Stretch" />
                            </Border>
                            <Border Grid.Column="2" Grid.Row="0" BorderBrush="{DynamicResource InfoBarsBorderBrush}" BorderThickness="2">
                                <Label  VerticalAlignment="Center" HorizontalAlignment="Right" FontWeight="Bold" Content="{Binding SelectedGpu.GpuClockCurrent, FallbackValue=0000}" /> 
                            </Border>
                            <Label Grid.Column="3" Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Left"> MHz </Label>
                            
                            <!--MEM CLOCK-->
                            <Label Grid.Column="0" Grid.Row="1" VerticalAlignment="Center" FontSize="12" HorizontalAlignment="Right"> MEM CLCK </Label>
                            <Border Grid.Column="1" Grid.Row="1" BorderBrush="{DynamicResource InfoBarsBorderBrush}" BorderThickness="2" Padding="3">
                                <ProgressBar Minimum="0" Maximum="10000" Value="{Binding SelectedGpu.MemClockCurrent, FallbackValue=0}"  VerticalAlignment="Stretch" />
                            </Border>
                            
                            <Border Grid.Column="2" Grid.Row="1" BorderBrush="{DynamicResource InfoBarsBorderBrush}" BorderThickness="2">
                                <Label  VerticalAlignment="Center" HorizontalAlignment="Right" Content="{Binding SelectedGpu.MemClockCurrent, FallbackValue=0000}"/>
                            </Border>
                            
                            <Label Grid.Column="3" Grid.Row="1" VerticalAlignment="Center"> MHz </Label>
                            
                            <!--MEM USE-->
                            <Label Grid.Column="0" Grid.Row="2" VerticalAlignment="Center" FontSize="12" HorizontalAlignment="Right"> MEM USE </Label>
                            
                            <Border Grid.Column="1" Grid.Row="2"  BorderBrush="{DynamicResource InfoBarsBorderBrush}" BorderThickness="2" Padding="3">
                                <ProgressBar  VerticalAlignment="Stretch" Value="{Binding SelectedGpu.MemoryUsed, FallbackValue=0}" Minimum="0" Maximum="{Binding SelectedGpu.MemoryTotal,FallbackValue=1000000}"/>
                                
                            </Border>
                            <Border Grid.Column="2" Grid.Row="2" BorderBrush="{DynamicResource InfoBarsBorderBrush}" BorderThickness="2">
                            
                                <Label  VerticalAlignment="Center" HorizontalAlignment="Right" Content="{Binding SelectedGpu.MemoryUsedMBFormatted, FallbackValue=00000}"/>
                            </Border>
                            <Label Grid.Column="3" Grid.Row="2" VerticalAlignment="Center"> MB </Label>
                            <!-- <Label Grid.Column="3" Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Right">/ </Label> -->
                            <!-- <Label Grid.Column="4" Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Left" Content="{Binding SelectedGpu.MemoryTotalMB, FallbackValue=00000}"/> -->
                            
                            
                            <!--POWER USAGE-->
                            <Label Grid.Column="0" Grid.Row="3" VerticalAlignment="Center" FontSize="12" HorizontalAlignment="Right"> POWER </Label>
                            
                            <Border Grid.Column="1" Grid.Row="3"  BorderBrush="{DynamicResource InfoBarsBorderBrush}" BorderThickness="2" Padding="3">
                                <ProgressBar  VerticalAlignment="Stretch"  Minimum="0" Value="{Binding SelectedGpu.GpuPowerUsage, FallbackValue=0}" Maximum="{Binding SelectedGpu.PowerLimitCurrentMw,FallbackValue=1000}"/>
                            </Border>
                            
                            <Border Grid.Column="2" Grid.Row="3" BorderBrush="{DynamicResource InfoBarsBorderBrush}" BorderThickness="2">
                                <Label  VerticalAlignment="Center" HorizontalAlignment="Right" Content="{Binding SelectedGpu.GpuPowerUsageWFormatted, FallbackValue=0000}"/>
                            </Border>
                            <Label Grid.Column="3" Grid.Row="3" VerticalAlignment="Center"> W </Label>
                            <!-- <Label Grid.Column="3" Grid.Row="3" VerticalAlignment="Center" HorizontalAlignment="Right">/ </Label> -->
                            <!-- <Label Grid.Column="4" Grid.Row="3" VerticalAlignment="Center" HorizontalAlignment="Left" Content="{Binding SelectedGpu.PowerLimitCurrentW, FallbackValue=00000}"/> -->
                            
                            <!--CORE TEMP-->
                            <Label Grid.Column="0" Grid.Row="4" VerticalAlignment="Center" FontSize="12" HorizontalAlignment="Right"> CORE TEMP </Label>
                            
                            <Border Grid.Column="1" Grid.Row="4"  BorderBrush="{DynamicResource InfoBarsBorderBrush}" BorderThickness="2" Padding="3">
                                <ProgressBar  VerticalAlignment="Stretch" Minimum="0" Maximum="{Binding SelectedGpu.TemperatureThresholdShutdown,FallbackValue=98}" Value="{Binding SelectedGpu.GpuTemperature,FallbackValue=0}"/>
                            </Border>
                            <Border Grid.Column="2" Grid.Row="4" BorderBrush="{DynamicResource InfoBarsBorderBrush}" BorderThickness="2">
                                <Label  VerticalAlignment="Center" HorizontalAlignment="Right" Content="{Binding SelectedGpu.GpuTemperature, FallbackValue=0000}" Foreground="{Binding SelectedGpu.TemperatureIndicatorColorBrush}" />
                            </Border>
                            <Label Grid.Column="3" Grid.Row="4" VerticalAlignment="Center" Foreground="{Binding SelectedGpu.TemperatureIndicatorColorBrush}"> Â°C </Label>
                            
                            <!--GPU USAGE-->
                            <Label Grid.Column="0" Grid.Row="5" VerticalAlignment="Center" FontSize="12" HorizontalAlignment="Right"> GPU USAGE </Label>
                            
                            <Border Grid.Column="1" Grid.Row="5" BorderBrush="{DynamicResource InfoBarsBorderBrush}" BorderThickness="2" Padding="3">
                                <ProgressBar  Minimum="0" Maximum="100" Value="{Binding SelectedGpu.UtilizationCore,FallbackValue=0}" VerticalAlignment="Stretch"/>
                            </Border>
                            <Border Grid.Column="2" Grid.Row="5" BorderBrush="{DynamicResource InfoBarsBorderBrush}" BorderThickness="2">
                                <Label  VerticalAlignment="Center" HorizontalAlignment="Right" Content="{Binding SelectedGpu.UtilizationCore, FallbackValue=000}" />
                            </Border>
                            <Label Grid.Column="3" Grid.Row="5" VerticalAlignment="Center"> % </Label>
                    
                        </Grid>
                        
                    </Border>
                
                    
                    <Border Grid.Column="3" Grid.RowSpan="4"
                            Grid.Row="1"
                            
                        BorderBrush="DimGray"
                        Background="{DynamicResource SectionBackgroundBrushDark}"
                        BorderThickness="2"
                        CornerRadius="20"
                        Padding="2"
                        
                        >
                    
                        <!--PROFILES MAIN STACKPANEL-->
                        <Grid ColumnDefinitions="*,*" RowDefinitions="*,*,*,*,*,*">
                        
                            <Label Grid.ColumnSpan="2" VerticalAlignment="Stretch" HorizontalAlignment="Center" Content="{x:Static lang:Resources.ProfilesSection}"/>
                            
                            <Border Margin="2" VerticalAlignment="Top" Grid.Row="1" Grid.ColumnSpan="2" BorderBrush="DimGray" BorderThickness="2" CornerRadius="20" Background="{DynamicResource SectionBackgroundBrushLight}">
                                <StackPanel  Orientation="Horizontal" Spacing="3">
                                    <Label/>
                                    
                                    <Button VerticalAlignment="Center" FontSize="12" HorizontalAlignment="Right" Command="{Binding SaveStartupProfile}" CommandParameter="{Binding #CurrentSelectedProfileCombobox.SelectedItem}">
                                        
                                        <Image Height="12" Width="12"
                                               Source="avares://ssprea-nvidia-control/Assets/icons/save-icon.png"/>
                                        
                                        <ToolTip.Tip>
                                            <StackPanel>
                                                <TextBlock Text="{x:Static lang:Resources.TooltipSaveStartupProfile}"/>
                                            </StackPanel>
                                        </ToolTip.Tip>
                                        
                                    </Button>
                                    <Label/>
                                    <CheckBox IsChecked="{Binding IsStartupProfileChecked}" VerticalAlignment="Top" FontSize="12" HorizontalAlignment="Stretch" Content="{x:Static lang:Resources.CheckboxStartupProfile}"/>
                                    <Label VerticalAlignment="Center" FontSize="12" HorizontalAlignment="Stretch" Content="{Binding SelectedStartupProfile.Name, FallbackValue=Disabled}"/>
                                    
                                </StackPanel>
                            </Border> 
                            
                            <Border Margin="2" Grid.Row="2" Grid.ColumnSpan="2" BorderBrush="DimGray" BorderThickness="2" CornerRadius="20" Background="{DynamicResource SectionBackgroundBrushLight}">
                                <StackPanel  Spacing="3" Orientation="Horizontal">
                                    <Label/>
                                    <Button VerticalAlignment="Center" FontSize="12" HorizontalAlignment="Right" Command="{Binding SaveAutoApplyProfile}" CommandParameter="{Binding #CurrentSelectedProfileCombobox.SelectedItem}">
                                        <Image Height="12" Width="12"
                                               Source="avares://ssprea-nvidia-control/Assets/icons/save-icon.png"/>
                                        <ToolTip.Tip>
                                            <StackPanel>
                                                <TextBlock Text="{x:Static lang:Resources.TooltipSaveAutoApplyProfile}"/>
                                            </StackPanel>
                                        </ToolTip.Tip>
                                        
                                    </Button>
                                    <Label/>
                                    <CheckBox VerticalAlignment="Center" FontSize="12" HorizontalAlignment="Stretch" IsChecked="{Binding IsAutoApplyProfileChecked}" Content="{x:Static lang:Resources.CheckboxDefaultProfile}"/>
                                    <Label VerticalAlignment="Center" FontSize="12" HorizontalAlignment="Stretch" Content="{Binding SelectedAutoApplyOcProfile.Name, FallbackValue=Disabled}"/>

                                    
                                </StackPanel>
                            </Border> 
                            
                                
                            
                            
                            
                            <ComboBox Grid.Row="3" Grid.ColumnSpan="2" SelectedItem="{Binding SelectedOcProfile}"
                                      ItemsSource="{Binding OcProfilesList}" 
                                      x:Name="CurrentSelectedProfileCombobox"
                                      Margin="2"
                                      SelectedIndex="1"
                                      VerticalAlignment="Bottom" 
                                      HorizontalAlignment="Stretch"
                            >
                        
                                <ComboBox.ItemTemplate>
                                    <DataTemplate>
                                        <Label Content="{Binding Name} " />
                                    </DataTemplate>
                                </ComboBox.ItemTemplate>
                                
                            </ComboBox>
                            
                            
                            
                                
                            <Button Grid.Row="4" Grid.Column="0" DockPanel.Dock="Left" Content="{x:Static lang:Resources.ButtonLoadToTuner}" Command="{Binding LoadSelectedOcProfileToTuner}" HorizontalAlignment="Left"/>
                            <Button Grid.Row="4" Grid.Column="1" DockPanel.Dock="Right" Content="{x:Static lang:Resources.ButtonDeleteProfile}" Command="{Binding DeleteOcProfile}" Background="#40E85F68" HorizontalAlignment="Right"/>
                            
                            
                            <DockPanel Grid.Row="5" Grid.ColumnSpan="2" >
                                
                                <Button DockPanel.Dock="Right" CornerRadius="10" Content="{x:Static lang:Resources.ButtonSave}" Command="{Binding SaveTempTunerSettingsToProfileAndUpdateFileAsync}">
                                    <ToolTip.Tip>
                                        <StackPanel>
                                            <TextBlock Text="{x:Static lang:Resources.TooltipSaveAsProfile}" />
                                        </StackPanel>
                                    </ToolTip.Tip>
                                </Button>
                                <TextBox Margin="2" MinHeight="0" CornerRadius="10"  HorizontalAlignment="Stretch" Watermark="{x:Static lang:Resources.WatermarkNewProfileName}" UseFloatingWatermark="False" BorderThickness="0" Text="{Binding TunerCurrentProfileName,FallbackValue=''}"></TextBox>

                            </DockPanel>
                            
                        </Grid>
                    
                    </Border>
                
                    
                    <Border Grid.Column="2"
                            Grid.Row="5"
                            Grid.ColumnSpan="3"
                            BorderThickness="6"
                            >
                        
                        <Border   DockPanel.Dock="Top" Padding="2" Background="{DynamicResource SmallSectionBackgroundBrushDark}" BorderBrush="{DynamicResource HighlightColor}" BorderThickness="4" CornerRadius="10" HorizontalAlignment="Center" VerticalAlignment="Top"
                        >
                            <DockPanel >
                            
                                <Label DockPanel.Dock="Left" VerticalAlignment="Center" Content="{x:Static lang:Resources.SelectGpu}"/>
                                <ComboBox SelectedItem="{Binding SelectedGpu}"
                                          ItemsSource="{Binding NvmlService.GpuList}" 
                                          SelectedIndex="1" VerticalAlignment="Center" HorizontalAlignment="Stretch"
                                          DockPanel.Dock="Right"
                                          >
                                    <ComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <Label Content="{Binding Name} " />
                                        </DataTemplate>
                                    </ComboBox.ItemTemplate>
                                </ComboBox>
                                            
                            
                            </DockPanel>
                        </Border>
                    </Border>
                    
                    <Border Grid.Row="6" Grid.Column="2" Grid.ColumnSpan="3"  HorizontalAlignment="Center" VerticalAlignment="Center">
                        <StackPanel Orientation="Horizontal">
                    
                            <Button   BorderBrush="White" BorderThickness="3" Background="{DynamicResource SmallSectionBackgroundBrushDark}" Margin="5" Command="{Binding OpenDefaultBrowserToUrl}" CommandParameter="https://ko-fi.com/ssprea" >
                                <DockPanel>
                                    <Image Height="30" Width="30"   Source="avares://ssprea-nvidia-control/Assets/icons/coffee-icon5.png"/>
                                    <Label/>
                                    <Label VerticalAlignment="Center" Foreground="White" FontWeight="Bold"  >Buy me a coffee</Label>
                                </DockPanel>
                    
                            </Button>
                        </StackPanel>
                
                    </Border>
                    
                </Grid> 
                
                
            </Border>
            
            
            <!--BOTTOM PANEL-->
            <Panel Grid.Column="1" Grid.Row="1" >
                 
                <Border Background="{DynamicResource SectionBackgroundBrushDark}" BorderThickness="3" CornerRadius="20" BorderBrush="Gray" >
                    
                    <!--BOTTOM MENU-->
                    <Grid ColumnDefinitions="*,*,*">
                        
                        <!--INFO GRID-->
                            <Grid 
                            RowDefinitions="*,5*"
                            >
                        
                            <Label Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Center" FontWeight="Bold" Content="{x:Static lang:Resources.InfoSection}"/>
                            
                            <!--INFO ITEMS STACK PANEL-->
                            <Grid  Grid.Row="1" Grid.Column="0"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                   RowDefinitions="*,*,*,*,*">
                                
                                <Border Grid.Row="0" DockPanel.Dock="Top" Padding="2" Background="{DynamicResource SmallSectionBackgroundBrushLight}" BorderBrush="Gray" BorderThickness="4" CornerRadius="10" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <StackPanel 
                                        Orientation="Horizontal" 
                                
                                
                                    >
                        
                                        <Label VerticalAlignment="Center" Content="{x:Static lang:Resources.CurrentPstate}"/>
                                        <Label VerticalAlignment="Center" FontWeight="Bold" Content="{Binding SelectedGpu.GpuPState, FallbackValue=0000}"/>

                        
                                    </StackPanel>
                                </Border>
                                
                                <Border Grid.Row="1" DockPanel.Dock="Top" Padding="2" Background="{DynamicResource SmallSectionBackgroundBrushDark}" BorderBrush="Gray" BorderThickness="4" CornerRadius="10" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <StackPanel 
                                        Orientation="Horizontal" 
                                
                                
                                    >
                        
                                        <Label VerticalAlignment="Center" Content="{x:Static lang:Resources.TextPowerLimit}"/>
                                        <Label VerticalAlignment="Center" Content="{x:Static lang:Resources.TextCurrent}"/>
                                        <Label VerticalAlignment="Center" FontWeight="Bold" Content="{Binding SelectedGpu.PowerLimitCurrentW, FallbackValue=0000}"/> 
                                        <Label VerticalAlignment="Center" Content="{x:Static lang:Resources.TextMin}"/>
                                        <Label VerticalAlignment="Center" FontWeight="Bold" Content="{Binding SelectedGpu.PowerLimitMinW, FallbackValue=0000}"/> 
                                        <Label VerticalAlignment="Center" Content="{x:Static lang:Resources.TextMax}"/>
                                        <Label VerticalAlignment="Center" FontWeight="Bold" Content="{Binding SelectedGpu.PowerLimitMaxW, FallbackValue=0000}"/> 

                        
                                    </StackPanel>
                                </Border>
                                
                                <Border Grid.Row="2" DockPanel.Dock="Top" Padding="2" Background="{DynamicResource SmallSectionBackgroundBrushLight}" BorderBrush="Gray" BorderThickness="4" CornerRadius="10" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <StackPanel 
                                        Orientation="Horizontal" 
                                
                                
                                    >
                        
                                        <Label VerticalAlignment="Center" Content="{x:Static lang:Resources.TextTemps}"/>
                                        <Label VerticalAlignment="Center" Content="{x:Static lang:Resources.TextThrottle}"/>
                                        <Label VerticalAlignment="Center" FontWeight="Bold" Content="{Binding SelectedGpu.TemperatureThresholdThrottle, FallbackValue=00}"/> 
                                        <Label VerticalAlignment="Center" Content="{x:Static lang:Resources.TextSlowdown}"/>
                                        <Label VerticalAlignment="Center" FontWeight="Bold" Content="{Binding SelectedGpu.TemperatureThresholdSlowdown,FallbackValue=00}"/> 
                                        <Label VerticalAlignment="Center" Content="{x:Static lang:Resources.TextShutdown}"/>
                                        <Label VerticalAlignment="Center" FontWeight="Bold" Content="{Binding SelectedGpu.TemperatureThresholdShutdown,FallbackValue=00}"/> 

                        
                                    </StackPanel>
                                </Border>
                                
                                <Border Grid.Row="3" DockPanel.Dock="Top" Padding="2" Background="{DynamicResource SmallSectionBackgroundBrushDark}" BorderBrush="Gray" BorderThickness="4" CornerRadius="10" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <StackPanel 
                                        Orientation="Horizontal" 
                                
                                
                                    >
                        
                                        <Label VerticalAlignment="Center" Content="{x:Static lang:Resources.TextMemoryStats}"/>
                                        <Label VerticalAlignment="Center" Content="{x:Static lang:Resources.TextFree}"/>
                                        <Label VerticalAlignment="Center" FontWeight="Bold" Content="{Binding SelectedGpu.MemoryFreeMBFormatted, FallbackValue=00000}"/> 
                                        <Label VerticalAlignment="Center" Content="{x:Static lang:Resources.TextOutOf}"/>
                                        <Label VerticalAlignment="Center" FontWeight="Bold" Content="{Binding SelectedGpu.MemoryTotalMBFormatted,FallbackValue=00000}"/> 

                        
                                    </StackPanel>
                                </Border>
                                
                                <Border Grid.Row="4" DockPanel.Dock="Top" Padding="2" Background="{DynamicResource SmallSectionBackgroundBrushLight}" BorderBrush="Gray" BorderThickness="4" CornerRadius="10"  HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <StackPanel 
                                        Orientation="Horizontal" 
                                
                                
                                    >
                        
                                        <Label VerticalAlignment="Center" Content="{x:Static lang:Resources.TextNvidiaDriverVersion}"/>
                                        <Label VerticalAlignment="Center" FontWeight="Bold" Content="{Binding CurrentNvidiaDriverVersion}"/> 

                        
                                    </StackPanel>
                                </Border>
                                
                                
                                
                                
                                
                                
                                
                                
                            </Grid>
                                
                        </Grid>
                        
                        <!--TUNER GRID-->
                        <Border Grid.Column="1" BorderBrush="Gray" BorderThickness="1" >
                            <Grid RowDefinitions="*,5*"
                                  Background="{DynamicResource SectionBackgroundBrushLight}">
                            
                                <Label Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Center" FontWeight="Bold" Content="{x:Static lang:Resources.TunerSection}"/>
                                
                                <!--TUNER ITEMS STACK PANEL-->
                                <!-- <StackPanel Spacing="20" Grid.Row="1" Grid.Column="0"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch"> -->
                                <Grid RowDefinitions="*,*,*,*" Grid.Row="1" Grid.Column="0"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                <!-- <DockPanel  Grid.Row="1" Grid.Column="0"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch"> -->
                                    
                                    <Border DockPanel.Dock="Top" Padding="2" Background="{DynamicResource SmallSectionBackgroundBrushLight}" BorderBrush="Gray" BorderThickness="4" CornerRadius="10" HorizontalAlignment="Stretch" VerticalAlignment="Center">
                                        <DockPanel
                                            LastChildFill="True"
                                        >
                            
                                            <Label DockPanel.Dock="Left" VerticalAlignment="Center" Content="{x:Static lang:Resources.TunerCoreOffset}"/>
                                            <Label DockPanel.Dock="Right" VerticalAlignment="Center" FontWeight="Bold" Content="MHz"/> 
                                            
                                            <NumericUpDown  DockPanel.Dock="Right" Minimum="0" Maximum="1000" FormatString="0"
                                                            Background="Transparent" BorderBrush="Transparent" 
                                                            TextAlignment="Center" VerticalAlignment="Center" FontWeight="Bold" Value="{Binding TunerCurrentCoreOffset,FallbackValue=0000}"/> 
                                            
                                            <Slider DockPanel.Dock="Right" Height="35" VerticalAlignment="Top" HorizontalAlignment="Stretch" 
                                                    Minimum="0"
                                                    Maximum="1000"
                                                    Value="{Binding TunerCurrentCoreOffset}"
                                            />
                            
                                        </DockPanel>
                                    </Border>
                                    
                                    <Border Grid.Row="1" DockPanel.Dock="Top" Padding="2" Background="{DynamicResource SmallSectionBackgroundBrushDark}" BorderBrush="Gray" BorderThickness="4" CornerRadius="10" HorizontalAlignment="Stretch" VerticalAlignment="Center">
                                            <DockPanel LastChildFill="True">
                            
                                                <Label DockPanel.Dock="Left" VerticalAlignment="Center" Content="{x:Static lang:Resources.TunerMemoryOffset}"/>
                                                
                                                <Label DockPanel.Dock="Right" VerticalAlignment="Center" FontWeight="Bold" Content="MHz"/> 
                                                
                                                <NumericUpDown DockPanel.Dock="Right" Minimum="0" Maximum="3000"
                                                               FormatString="0" Background="Transparent" BorderBrush="Transparent" 
                                                               
                                                               TextAlignment="Center" VerticalAlignment="Center" FontWeight="Bold" Value="{Binding TunerCurrentMemoryOffset,FallbackValue=0000}"/> 
                                                
                                                
                                                <Slider DockPanel.Dock="Right"  Height="35" VerticalAlignment="Top" HorizontalAlignment="Stretch"
                                                        Minimum="0"
                                                        Maximum="3000"
                                                        Value="{Binding TunerCurrentMemoryOffset}"
                                                        
                                                />
                                            </DockPanel>
                                    </Border>
                                    
                                    <Border Grid.Row="2" DockPanel.Dock="Top" Padding="2" Background="{DynamicResource SmallSectionBackgroundBrushLight}" BorderBrush="Gray" BorderThickness="4" CornerRadius="10" HorizontalAlignment="Stretch" VerticalAlignment="Center">
                                        <DockPanel LastChildFill="True"
                                        >
                            
                                            <Label DockPanel.Dock="Left" VerticalAlignment="Center" Content="{x:Static lang:Resources.TunerPowerLimit}"/>
                                            
                                            <Label  DockPanel.Dock="Right"  VerticalAlignment="Center" FontWeight="Bold" Content="W"/> 
                                            <NumericUpDown DockPanel.Dock="Right"  FormatString="0" Minimum="{Binding SelectedGpu.PowerLimitMinW, FallbackValue=0}" Maximum="{Binding SelectedGpu.PowerLimitMaxW, FallbackValue=400}" 
                                                           Background="Transparent" BorderBrush="Transparent" TextAlignment="Center" VerticalAlignment="Center"
                                                           FontWeight="Bold" Value="{Binding TunerCurrentPowerLimitW,FallbackValue=000,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/> 

                                            <Border DockPanel.Dock="Right"  HorizontalAlignment="Stretch">
                                                
                                                <Slider  Height="35" VerticalAlignment="Top" HorizontalAlignment="Stretch"
                                                        Minimum="{Binding SelectedGpu.PowerLimitMinMw, FallbackValue=0}"
                                                        Maximum="{Binding SelectedGpu.PowerLimitMaxMw, FallbackValue=400}"
                                                        Value="{Binding TunerCurrentPowerLimitMw}"
                                                        
                                                />
                                            </Border>
                                            
                            
                                        </DockPanel>
                                    </Border>
                                    
                                    <Border Grid.Row="3" DockPanel.Dock="Top" Margin="5" Padding="4" Background="{DynamicResource SmallSectionBackgroundBrushDark}" BorderBrush="Gray" BorderThickness="4" CornerRadius="10"  HorizontalAlignment="Center" VerticalAlignment="Bottom">
                                        <StackPanel 
                                            Orientation="Horizontal" 
                                            Spacing="20"
                                    
                                    
                                        >
                            
                                            <Button CornerRadius="10" Content="{x:Static lang:Resources.ButtonApply}" Command="{Binding ApplyTempTunerSettings}"/>
                                            <Button CornerRadius="10" Content="{x:Static lang:Resources.ButtonReset}" Command="{Binding ResetTunerOptions}"/>
                                            

                            
                                        </StackPanel>
                                    </Border>
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                </Grid>
                                
                            </Grid>
                            
                        </Border>
                        
                        <!--FAN CURVE GRID-->
                        <Grid Grid.Column="2"
                            RowDefinitions="*,5*"
                            >
                            
                            <!-- <Grid.Background> -->
                            <!--      -->
                            <!--     <LinearGradientBrush StartPoint="0%,50%" EndPoint="100%,50%"> -->
                            <!--         <GradientStop Color="{DynamicResource SectionBackgroundColorLight}" Offset="0.0"/> -->
                            <!--         <GradientStop Color="{DynamicResource SectionBackgroundColorDark}" Offset="0.2"/> -->
                            <!--     </LinearGradientBrush> -->
                            <!--      -->
                            <!-- </Grid.Background> -->
                            
                            <Border Grid.Row="0" >
                                                    
                                <Label  HorizontalAlignment="Center" VerticalAlignment="Center" FontWeight="Bold"  Content="{x:Static lang:Resources.FanCurveSection}"/>
                            </Border>
                            <!--FAN CURVE ITEMS STACK PANEL-->
                            <DockPanel  Grid.Row="1" Grid.Column="0"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                
                                
                                
                                
                                
                                <Border DockPanel.Dock="Bottom" Padding="2" Background="#40969696" BorderBrush="Gray" BorderThickness="4" CornerRadius="10"  HorizontalAlignment="Center" VerticalAlignment="Top">
                                    <StackPanel 
                                        Orientation="Horizontal" 
                                        Spacing="15"
                                
                                
                                    >
                                        
                                        <Button Command="{Binding  OpenFanCurveEditorCommand}" Content="{x:Static lang:Resources.ButtonNew}"/>
                                        <Button Content="{x:Static lang:Resources.ButtonEdit}"  Command="{Binding  OpenFanCurveEditorCommand}" CommandParameter="{Binding SelectedFanCurve}"/>
                                        <Button Content="{x:Static lang:Resources.ButtonDelete}"  Command="{Binding DeleteSelectedFanProfile}"/>
                                        <CheckBox Content="{x:Static lang:Resources.CheckboxEnableFanCurve}"  IsChecked="{Binding IsFanCurveIncludedInProfileChecked}" />
                                        

                        
                                    </StackPanel>
                                </Border>
                                
                                <ComboBox HorizontalAlignment="Stretch"
                                          ItemsSource="{Binding FanCurvesList}"
                                          SelectedItem="{Binding SelectedFanCurve}"
                                          DockPanel.Dock="Bottom">

                                    <ComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <Label Content="{Binding Name}"/>
                                        </DataTemplate>
                                    </ComboBox.ItemTemplate>
                                </ComboBox>
                                
                                <lvc:CartesianChart MinHeight="169" MinWidth="150"
                                                    BorderThickness="0" Padding="0" Margin="0"
                                                    HorizontalAlignment="Stretch" VerticalAlignment="Stretch" 
                                                    Series="{Binding SelectedFanCurve.CurvePointsSeries}"
                                                    XAxes="{Binding FanCurveGraphXAxes}"
                                                    YAxes="{Binding FanCurveGraphYAxes}"
                                                    TooltipTextPaint="{Binding GraphTooltipTextPaint}"
                                                    
                                                    ZoomMode="X"
                                                    DockPanel.Dock="Top"
                                />
                                
                            </DockPanel>
                            
                            
                            
                        </Grid>
                    </Grid>
                    
                </Border>
            
            
            </Panel>
            
           
            <!--RIGHT PANEL-->
            
            <Border BorderThickness="20" Grid.Column="2" Grid.Row="0" Grid.RowSpan="2">
                <Border BorderBrush="Gray" BorderThickness="2" CornerRadius="20" Padding="15">
                    
                    <Grid RowDefinitions="*,*,*,*" >
                        <Button CornerRadius="20" Command="{Binding OpenSettingsWindowCommand}">
                            <Image Source="avares://ssprea-nvidia-control/Assets/icons/gear-icon.png"/>
                            <ToolTip.Tip>
                                <StackPanel>
                                    <TextBlock Text="{x:Static lang:Resources.TooltipApplicationSettings}"/>
                                </StackPanel>
                            </ToolTip.Tip>
                        </Button>
                        <Button Grid.Row="1" Command="{Binding ShowComingSoonPopupAsync}" CommandParameter="Extra GPU Info" CornerRadius="20">
                            <Image Source="avares://ssprea-nvidia-control/Assets/icons/info-icon.png"/>
                            <ToolTip.Tip>
                                <StackPanel>
                                    <TextBlock Text="{x:Static lang:Resources.TooltipExtraGpuInfo}"/>
                                    <TextBlock>COMING SOON!</TextBlock>
                                </StackPanel>
                            </ToolTip.Tip>
                        </Button>
                        <Button Grid.Row="2" Command="{Binding OpenUsageGraphsWindowCommand}" CommandParameter="{Binding SelectedGpu}" CornerRadius="20">
                            <Image Source="avares://ssprea-nvidia-control/Assets/icons/graph-icon.png"/>
                            <ToolTip.Tip>
                                <StackPanel>
                                    <TextBlock Text="{x:Static lang:Resources.TooltipUsageGraphs}"/>
                                </StackPanel>
                            </ToolTip.Tip>
                        </Button>
                        <Button Grid.Row="3"  CornerRadius="20" Command="{Binding OpenDefaultBrowserToUrl}" CommandParameter="https://github.com/ssprea/ssprea-nvidia-control/wiki">
                            <Image Source="avares://ssprea-nvidia-control/Assets/icons/help-icon.png"/>
                            <ToolTip.Tip>
                                <StackPanel>
                                    <TextBlock Text="{x:Static lang:Resources.TooltipGuide}"/>
                                </StackPanel>
                            </ToolTip.Tip>
                        </Button>
                    </Grid>
                    
                </Border>
            </Border>
        </Grid>
    
    
    
    
    

</Window>
